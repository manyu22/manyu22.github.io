---
layout: default
comments: true
categories: [Utility]
tags: [Forex, SBI, Income Tax Return (ITR)]
share: true
title: SBI Telegraphic Transfer (buy/sell) Rates
emoticon: moneybag
description: Bureaucracy is the death of all sound work - Albert Einstein
show_links: true
---
:{{page.emoticon}}: {{ page.date | date_to_string }} **{{ page.title }}**
#### tags: {% for tag in page.tags %} `{{tag}}` {% endfor %}
---
If you hold foreign assets, you are required to declare them in Schedule FA of your Income Tax Return (ITR) in India. These assets typically need to be reported with their acquisition value, peak value, or exit value in Indian Rupees (INR), using the State Bank of India's (SBI) published telegraphic transfer rates (TTR). Interestingly, there is no straightforward way to access historical rates, as SBI updates these rates daily, replacing the previous day's information. To address this issue, I am creating a daily archive of these rates. This effort is primarily to assist with my own ITR filing, but it also aims to help others who may need access to these historical rates for their tax declarations.

This page serves as an index of SBI's Telegraphic Transfer Rates (TTR) starting from June 25, 2024. The rates will be updated daily by 6 p.m. on the day they are released. Please note that rates are not published on public holidays and weekends. For these days, you may encounter a 'file not found' error when attempting to access the rates.

<style>
  .calendar { border-collapse: collapse; }
  .calendar th, .calendar td { border: 1px solid #ddd; padding: 5px; text-align: center; }
  .calendar th { background-color: #f2f2f2; }
  .weekend { color: #999; }
  .current-day { background-color: #e6f3ff; font-weight: bold; }
  #current-time { font-size: 0.9em; font-weight: bold; margin-bottom: 20px; }
</style>

<div id="current-time"></div>
<div id="calendar-container"></div>

<script>
const timeZoneOffsets = {
    'PST': 50400, 'PDT': 46800, 'MST': 46800, 'MDT': 43200, 'CST': 43200, 'CDT': 39600,
    'EST': 37800, 'EDT': 34200, 'AST': 34200, 'ADT': 30600, 'NST': 32400, 'NDT': 28800,
    'GMT': 19800, 'BST': 19800, 'CET': 16200, 'CEST': 16200, 'EET': 12600, 'EEST': 12600,
    'MSK': 9000, 'GST': 5400, 'PKT': 1800, 'IST': 0, 'HKT': -9000, 'JST': -12600,
    'ACST': -16200, 'ACDT': -19800, 'AEST': -19800, 'AEDT': -23400, 'NZST': -25200, 'NZDT': -28800
};

const CUTOFF_HOUR = 18; // 6 PM
const CUTOFF_MINUTE = 1; // 6:01 PM

function getISTTime() {
    const now = new Date();
    const serverZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const offset = timeZoneOffsets[serverZone.split('/').pop().toUpperCase()] || 0;
    return new Date(now.getTime() + offset * 1000);
}

function isAfterCutoffTime(date) {
    return date.getHours() > CUTOFF_HOUR || (date.getHours() === CUTOFF_HOUR && date.getMinutes() >= CUTOFF_MINUTE);
}

function formatDate(date) {
    return date.toISOString().split('T')[0];
}

function updateCurrentTime() {
    const now = new Date();
    const istNow = getISTTime();
    const options = { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit', 
        timeZoneName: 'short'
    };

    const istFormattedDate = istNow.toLocaleString('en-US', {...options, timeZone: 'Asia/Kolkata'});
    document.getElementById('current-time').innerHTML = `
        <div>Current IST Time: ${istFormattedDate}</div>
    `;
}

function generateCalendar() {
    const istNow = getISTTime();
    const isAfterCutoff = isAfterCutoffTime(istNow);
    const startDate = new Date('2024-06-25T00:00:00+05:30');
    let currentDate = new Date(startDate);
    
    let calendarHTML = '';
    let currentMonth = '';

    const istDateString = formatDate(istNow);

    while (currentDate <= istNow) {
        const dateString = formatDate(currentDate);
        const month = currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });
        const dayOfWeek = currentDate.getDay();
        const dayOfMonth = currentDate.getDate();

        if (month !== currentMonth) {
            if (currentMonth !== '') {
                calendarHTML += '</tr></table>';
            }
            currentMonth = month;
            calendarHTML += `<h2>${month}</h2>`;
            calendarHTML += '<table class="calendar"><tr>';
            calendarHTML += '<th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th>';
            calendarHTML += '</tr><tr>';
            
            for (let i = 0; i < dayOfWeek; i++) {
                calendarHTML += '<td></td>';
            }
        }

        if (dayOfWeek === 0 && dayOfMonth !== 1) {
            calendarHTML += '</tr><tr>';
        }

        let cellClass = [];
        if (dayOfWeek === 0 || dayOfWeek === 6) {
            cellClass.push('weekend');
        }
        if (dateString === istDateString && isAfterCutoff) {
            cellClass.push('current-day');
        }

        calendarHTML += `<td${cellClass.length ? ` class="${cellClass.join(' ')}"` : ''}>`;
        if (dayOfWeek > 0 && dayOfWeek < 6) {
            if (dateString < istDateString || (dateString === istDateString && isAfterCutoff)) {
                calendarHTML += `<a href="https://sbi-ttr.s3.ap-south-1.amazonaws.com/${dateString}.pdf" target="_blank">`;
                calendarHTML += dayOfMonth;
                calendarHTML += '</a>';
            } else {
                calendarHTML += dayOfMonth;
            }
        } else {
            calendarHTML += dayOfMonth;
        }
        calendarHTML += '</td>';

        currentDate.setDate(currentDate.getDate() + 1);
    }
    calendarHTML += '</tr></table>';

    document.getElementById('calendar-container').innerHTML = calendarHTML;
}

function logTimeInfo() {
    const istNow = getISTTime();
    console.log("Current Time Information:");
    console.log(`Server Time: ${new Date().toLocaleString()}`);
    console.log(`Detected Time Zone: ${Intl.DateTimeFormat().resolvedOptions().timeZone}`);
    console.log(`Adjusted IST Time: ${istNow.toLocaleString('en-US', { timeZone: 'Asia/Kolkata' })} IST`);
    console.log(`Is After Cutoff Time: ${isAfterCutoffTime(istNow)}`);
}

// Update current time, generate calendar and log time info on page load
updateCurrentTime();
generateCalendar();
logTimeInfo();

// Update current time every 30 seconds
setInterval(updateCurrentTime, 30000);

// Log time info every minute
setInterval(logTimeInfo, 60000);

// Optionally, regenerate calendar periodically (e.g., every hour)
setInterval(generateCalendar, 3600000);
</script>
---

[back]({{site.url}})
